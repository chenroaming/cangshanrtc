<!-- LOGIN MODULE -->
<div class="login">
    <div v-if='isSel' class="swal2-popup swal2-modal swal2-show" style="display:block;position: fixed;margin-left: -16rem;top: 40%;left:50%;z-index: 9999;">
        <div class="swal2-header">
            <h2 class="swal2-title" id="swal2-title" style="display: flex;">请选择角色身份</h2>
        </div>
        <div class="swal2-content"> 
            <div id="swal2-content" style="display: block;">
            <div>
                <button v-for="item in rList" @click="selRole(item.type,item.id)" fileid="1" roletype="1" class="sButton" type="primary">{{item.name}}</button>
            </div>
            </div>
        </div>
    </div>
  <vue-particles color="#dedede"></vue-particles>
  <div class="loading-wrapper" v-show="loading">
    <atom-spinner :animation-duration="1000" :size="120" color="#40a9ff" />
  </div>
  <div class="wrap" v-show="!hasLogin || !hasFaceCheck">
    <!-- SLIDER -->
    <div class="content">
      <!-- LOGO --> 
      <div class="logo">
        <a href="#">
          <img src="/images/tantu-s.png" alt="">
        </a>
      </div>
      <!-- SLIDESHOW -->
      <div id="slideshow" v-show="!hasLogin">
        <div class="one">
          <h2>
            <span>在线调解</span>
          </h2>
          <p>同安法院互联网法庭在线调解可以快速将案件转线上进行审理，通过浏览器输入庭审码即可直接在线使用，实现庭审过程远程庭审和语音识别大大提升当事人参与庭审的便利性，并提升庭审效率</p>
        </div>
      </div>
      <div id="slideshow" v-show="hasLogin">
        <div class="one">
          <h2>
            <span>人脸验证</span>
          </h2>
          <p>请对准摄像头，做眨眼睛或张嘴巴的动作，尽量使虚拟线框重合脸部轮廓提高识别准确度</p>
        </div>
      </div>
    </div>
    <!-- LOGIN FORM -->
    
    <div class="user" @keydown.enter="handleLogin">
      <div class="form-wrap" v-show="!hasLogin">
        <div class="tabs">
          <h3 class="judge-tab">
            <a class="log-in" :class="userType == 'judge' ? 'active' : ''" @click="userType = 'judge'">
              <span>法院工作人员</span>
            </a>
          </h3>
          <h3 class="litigant-tab">
            <a class="sign-up" :class="userType == 'litigant' ? 'active' : ''" @click="userType = 'litigant'">
              <span>当事人/律师</span>
            </a>
          </h3>
        </div>
        <!-- TABS CONTENT -->
        <div class="tabs-content" v-show="!hasLogin">

          <div id="login-tab-content" :class="userType == 'judge' ? 'active' : ''">
            <div class="login-form">
              <input v-model="judgeLoginForm.username" type="text" class="input" placeholder="请输入用户名">
              <input v-model="judgeLoginForm.password" type="password" class="input" placeholder="请输入密码">
              <div class="code-form-wrapper">
                <input v-model="judgeLoginForm.code" type="code" class="input" placeholder="请输入验证码">
                <span class="code-wrapper" @click="changeCode">
                  <img height="32px" style="vertical-align: middle;" :src="codeSrc" alt="验证码">
                </span>
              </div>
              <div @click="handleLogin" class="button">登录</div>
            </div>
          </div>

          <div id="signup-tab-content" :class="userType == 'litigant' ? 'active' : ''">
            <div class="login-form">
              <input v-model="litigantLoginForm.username" type="text" class="input" placeholder="请输入身份证号码">
              <input v-model="litigantLoginForm.password" type="password" class="input" placeholder="请输入密码">
              <div class="code-form-wrapper">
                <input v-model="litigantLoginForm.code" type="code" class="input" placeholder="请输入验证码">
                <span class="code-wrapper" @click="changeCode">
                  <img height="32px" style="vertical-align: middle;" :src="codeSrc" alt="验证码">
                </span>
              </div>
              <div @click="handleLogin" class="button">登录</div>
            </div>
          </div>
        </div>
        <div>请使用Chrome浏览器
          <a style="color: #666;" href="/chrome/67.0.3396.62_chrome_installer_x64.exe" tabindex="-1" download="67.0.3396.62_chrome_installer_x64.exe">下载</a>
        </div>
      </div>
      <div class="faceWrapper" v-show="hasLogin">
        <FaceCheck ref="faceChild" />
      </div>
    </div>
  </div>
  <div class="wrap case-list-wrapper" v-show="hasLogin && hasFaceCheck">
    <div class="back" @click="backToLogin">
      <img src="../../assets//img//back.svg" alt="返回" />
    </div>
    <div class="wrapper">
      <header @keydown.enter="serachByCaseNo">
        <input v-model="searchForm.caseNo" type="text" placeholder="欢迎登入同安互联网法庭在线调解系统，请输入案号">
        <div class="search-icon" @click="serachByCaseNo">
          <img src="../../assets/img/search.svg" alt="搜索" />
        </div>
      </header>
      <div class="container scrollStyle">
        <ul class="todo" id="todo">
          <li v-for="(item, index) in caseList" :key="index">
            <el-checkbox v-if="loginrole=='法官'" v-model="item.checked" @change="selectClick($event,item)"></el-checkbox>
            <span class="caseNo-wrapper" style="width:540px">{{ item.caseNo }}</span>
            <div class="case-state">
              <div class="light" :class="item.isOpen ? 'open' : 'disable' "></div>
              <span>{{ item.isOpen ? '正在庭审' : '未开庭' }}</span>
            </div>
            <div class="join-room" @click="roomTokenTest(item)"  style="margin-left: 20px">
                测试房间
              </div>
            <div class="join-room" @click="roomToken(item)">
              进入庭审
            </div>
            
          </li>
        </ul>
      </div>
      <el-checkbox v-if="loginrole=='法官'" :value="endCheck"  @change="selectAll($event,caseList,selectedCase)" class="selectedStyle">全选</el-checkbox>
      <el-pagination
      
      layout="total,  prev, pager, next"
      class="pageStyle"
      @current-change="pageChange"
      :current-page="pageData.pageNumber"
      :page-size="pageData.size"
      :total="pageData.total">
      </el-pagination>
      <el-badge v-if="loginrole=='法官'"  :value="selectedCase.length" class="selectedBtn">
        <el-button size="small" height="30px" @click="selectedBtn('end')">已选择的案件</el-button>
      </el-badge>
      <el-badge v-if="loginrole=='书记员'"  :value="clerkBatcnRooms.length" class="selectedBtn">
          <el-button size="small" height="30px" @click="getRoomsShow()">批量开庭房间</el-button>
        </el-badge>
    </div>
  </div>
  <!-- 已选择的案件列表弹窗(已开庭) -->
<SelectDialog v-if="loginrole=='法官'" :selectList="selectedCase" :dialogShow="selected" @closeDialog="closeDialog" @delCase="delSelectCase($event,caseList)" @openCourt="openCourt($event)" @clearAll="clearAll(caseList)"></SelectDialog>
<!-- 书记员批量开庭房间 -->
<clerkSelectDialog v-if="loginrole=='书记员'" ref="clerkDialog" :selectList="clerkBatcnRooms"  :dialogShow="batchRoomsShow" @closeDialog="closeDialogClerk"  @openCourt="openCourtClerk" @clearAll="clearAll(caseList)"></clerkSelectDialog>
</div>


</div>
